---
layout: post
title: Depth First Search
---

### Leetcode Question 219
Given a string containing only digits, restore it by returning all possible valid IP address combinations. Valid IP requires:

1. There must be three dots, and four digit blocks.
2. A digit block can not start with 0 if there are more than 1 digits.
3. The integer composed of a digit block can not be bigger than 255.

For example: Given "25525511135",

return ["255.255.11.135", "255.255.111.35"]. (Order does not matter)

Analytics:

1. DFS for most problems requires two things: a) the ending conditions b) the recursions.

Code:
{% highlight python %}
class Solution(object):
    def restoreIpAddresses(self, s):
        """
        :type s: str
        :rtype: List[str]
        """
        count = 0
        result = []
        self.add_dot(s, '', 0, result)
        return result
    
    def add_dot(self, s, path, count, result):
        if count == 3:
            if len(s) == 1:
                result.append(path + s)
            elif len(s) > 1 and len(s) <= 3 and s[0] != '0' and int(s) <= 255:
                result.append(path + s)
            else:
                return
        
        c = 1
        while c <=3 and c < len(s):
            if len(s[:c]) == 1:
                self.add_dot(s[c:], path + s[:c] + '.', count+1, result)
            elif s[0] != '0' and int(s[:c]) <= 255:
                self.add_dot(s[c:], path + s[:c] + '.', count+1, result)
            c += 1
{% endhighlight %}